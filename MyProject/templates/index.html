<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مركز تحميل</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>قائمة الملفات</h1>
        <ul>
            {% if files %}
                {% for file in files %}
                    <li>
                        <p>{{ file.filename }}</p>

                        <!-- معاينة الملفات -->
                        {% if file.filename.endswith('.pdf') %}
                            <iframe src="{{ file.filepath }}" width="100%" height="400px"></iframe>
                        {% elif file.filename.endswith('.png') or file.filename.endswith('.jpg') or file.filename.endswith('.jpeg') or file.filename.endswith('.gif') %}
                            <img src="{{ file.filepath }}" alt="{{ file.filename }}" width="50%">
                        {% else %}
                            <p>لا يمكن عرض هذا النوع من الملفات.</p>
                        {% endif %}

                        <!-- زر التحميل -->
                        <a href="{{ url_for('download_file', file_id=file.id) }}" class="download-btn">تحميل</a>
                    </li>
                {% endfor %}
            {% else %}
                <p>لا توجد ملفات حاليًا.</p>
            {% endif %}
        </ul>
    </div>
</body>
</html>